"use strict";(self.webpackChunkMediapoint=self.webpackChunkMediapoint||[]).push([[581,811],{8767:(x,u,n)=>{n.d(u,{D:()=>i});var t=n(8760),d=n(1571),p=n(5384),h=n(7662);let i=(()=>{class c{constructor(a,C){this.apiService=a,this.customersService=C}getAddresses(a){return this.apiService.get(t.T5.ADDRESSES+a)}getAddress(a){return this.apiService.get(t.wY.generate(t.T5.ADDRESS_BY_ID,{addressId:a}))}saveAddress(a,C,A){return A?a?this.customersService.editAddress(C):this.customersService.addNewAddress(C):a?this.editAddress(C):this.addNewAddress(C)}addNewAddress(a){return this.apiService.post(t.wY.generate(t.T5.ADDRESS_BY_ID,{addressId:a.id}),a)}editAddress(a){return this.apiService.put(`${t.T5.ADDRESSES}/${a.id}`,a)}deleteAddress(a){return this.apiService.delete(`${t.T5.ADDRESSES}/${a}`)}searchAddress(a){return this.apiService.get(t.T5.ADDRESSR+`?q=${a}`)}getDataByAddressId(a){return this.apiService.get(t.wY.generate(t.T5.ADDRESSR_BY_ID,{id:a}))}}return c.\u0275fac=function(a){return new(a||c)(d.LFG(p.s),d.LFG(h.v))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},7662:(x,u,n)=>{n.d(u,{v:()=>h});var t=n(8760),d=n(1571),p=n(5384);let h=(()=>{class i{constructor(r){this.apiService=r}getCustomersList(r){return this.apiService.get(t.T5.CUSTOMERS+r)}getCustomersDetails(){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_BY_ID,{customerId:this.companyId}))}getCompanyAddresses(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_ADDRESS,{customerId:this.companyId})+r)}getCompanyAddress(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_USER_ADDRESS,{customerId:this.companyId,addressId:r}))}addNewAddress(r){return this.apiService.post(t.wY.generate(t.T5.CUSTOMERS_ADDRESS,{customerId:this.companyId}),r)}editAddress(r){return this.apiService.put(t.wY.generate(t.T5.CUSTOMERS_USER_ADDRESS,{customerId:this.companyId,addressId:r.id}),r)}getCompanyEmployees(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_EMPLOYEES,{customerId:this.companyId})+r)}getCompanyEmployee(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_USER_EMPLOYEE,{customerId:this.companyId,userId:r}))}addNewEmployee(r){return this.apiService.post(t.wY.generate(t.T5.CUSTOMERS_EMPLOYEE,{customerId:this.companyId}),r)}editEmployee(r){return this.apiService.put(t.wY.generate(t.T5.CUSTOMERS_USER_EMPLOYEE,{customerId:this.companyId,userId:r.id}),r)}getCompanyOrders(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_ORDERS,{customerId:this.companyId})+r)}getCompanyInvoices(r){return this.apiService.get(t.wY.generate(t.T5.CUSTOMERS_INVOICES,{customerId:this.companyId})+r)}deleteCustomer(r){return this.apiService.delete(`${t.T5.CUSTOMERS}/${r}`)}deleteCustomers(r){return this.apiService.delete(t.T5.CUSTOMERS,{ids:r})}deleteAddress(r){return this.apiService.delete(t.wY.generate(t.T5.CUSTOMERS_USER_ADDRESS,{customerId:this.companyId,addressId:r}))}deleteEmployee(r){return this.apiService.delete(t.wY.generate(t.T5.CUSTOMERS_USER_EMPLOYEE,{customerId:this.companyId,userId:r}))}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(p.s))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4592:(x,u,n)=>{n.r(u),n.d(u,{AddressModule:()=>X});var t=n(6895),d=n(5453),p=n(9673),h=n(8112),i=n(5412),c=n(9106),r=n(7188),a=n(2722),C=n(9418),A=n(2893),O=n(3184),v=n(2686),e=n(1571),S=n(8767),_=n(7155),E=n(6308),M=n(1581),D=n(42),R=n(5216),y=n(9727),P=n(605),I=n(9382);function U(s,l){1&s&&(e.TgZ(0,"th",20),e._uU(1," Address name "),e.qZA())}function Y(s,l){if(1&s&&(e.TgZ(0,"td",21)(1,"div",22)(2,"span",23),e._uU(3),e.qZA(),e.TgZ(4,"span",24),e._uU(5),e.qZA()()()),2&s){const o=l.$implicit;e.xp6(3),e.Oqu(o.companyName),e.xp6(2),e.Oqu(o.address1)}}function w(s,l){1&s&&(e.TgZ(0,"th",20),e._uU(1," Type of address "),e.qZA())}function B(s,l){if(1&s&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"titleCase"),e.qZA()),2&s){const o=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,o.type)," ")}}function Z(s,l){1&s&&e._UZ(0,"th",25)}function L(s,l){if(1&s){const o=e.EpF();e.TgZ(0,"td",21)(1,"div",26)(2,"button",27),e.NdJ("click",function(){const f=e.CHM(o).$implicit,T=e.oxw(3);return e.KtG(T.edit(f.id))}),e._UZ(3,"img",28),e.qZA(),e.TgZ(4,"button",29),e.NdJ("click",function(){const f=e.CHM(o).$implicit,T=e.oxw(3);return e.KtG(T.delete(f.id))}),e._UZ(5,"img",30),e.qZA()()()}}function N(s,l){1&s&&e._UZ(0,"tr",31)}function b(s,l){1&s&&e._UZ(0,"tr",32)}const J=function(){return[5,10,20]};function W(s,l){if(1&s){const o=e.EpF();e.TgZ(0,"mat-paginator",33),e.NdJ("page",function(m){e.CHM(o);const f=e.oxw(3);return e.KtG(f.onChangePage(m))}),e.qZA()}if(2&s){const o=e.oxw(3);e.Q6J("length",o.totalItems)("pageSize",o.params.perPage)("pageSizeOptions",e.DdM(4,J))("pageIndex",o.params.currentPage-1)}}function K(s,l){if(1&s){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"table",10),e.NdJ("matSortChange",function(m){e.CHM(o);const f=e.oxw(2);return e.KtG(f.sortData(m))}),e.ynx(3,11),e.YNc(4,U,2,0,"th",12),e.YNc(5,Y,6,2,"td",13),e.BQk(),e.ynx(6,14),e.YNc(7,w,2,0,"th",12),e.YNc(8,B,3,3,"td",13),e.BQk(),e.ynx(9,15),e.YNc(10,Z,1,0,"th",16),e.YNc(11,L,6,0,"td",13),e.BQk(),e.YNc(12,N,1,0,"tr",17),e.YNc(13,b,1,0,"tr",18),e.qZA(),e.YNc(14,W,1,5,"mat-paginator",19),e.qZA(),e.BQk()}if(2&s){const o=e.oxw(2);e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",o.totalItems>o.params.perPage)}}function $(s,l){if(1&s&&e._UZ(0,"app-no-results",34),2&s){const o=e.oxw(2);e.Q6J("isSearch",o.isSearch)("noResultsText","You don't have addresses yet")}}function Q(s,l){if(1&s&&(e.ynx(0),e.YNc(1,K,15,4,"ng-container",6),e.YNc(2,$,1,2,"ng-template",null,8,e.W1O),e.BQk()),2&s){const o=e.MAs(3),g=e.oxw();e.xp6(1),e.Q6J("ngIf",g.dataSource.filteredData.length)("ngIfElse",o)}}function j(s,l){1&s&&e._UZ(0,"app-loader")}const F=[{path:"",component:(()=>{class s extends O.O{constructor(o,g,m,f,T,V,k){super(o,g,m,f,T),this.addressService=V,this.dialog=k,this.addAddressButtonConfig={text:"Add address",type:h.L.Button,viewType:p.F.LightBlue,padding:"21px 26px 21px 23px",icon:"plus-2.svg"},this.displayedColumns=["main","type","actions"]}getData(){this.addressService.getAddresses((0,v.f)(this.params)).pipe((0,a.R)(this.destroy$)).subscribe(o=>this.setData(o))}edit(o){this.addressService.getAddress(o).pipe((0,a.R)(this.destroy$)).subscribe(g=>{let m=new i.vA;m={...m,width:"100%",maxWidth:"704px",maxHeight:"90vh",panelClass:"dialog__address",data:{addressData:g}},this.dialog.open(c.T,m).afterClosed().pipe((0,a.R)(this.destroy$)).subscribe(T=>{T!==C.u.Close&&this.getData()})})}delete(o){let g=new i.vA;g={...g,disableClose:!0,width:"100%",maxWidth:"558px",data:{title:"Are you sure?",message:"Are you sure you want to delete this address?",declineButtonText:"Cancel",acceptButtonText:"Delete address"}},this.dialog.open(r.a,g).afterClosed().pipe((0,a.R)(this.destroy$)).subscribe(f=>{f===C.u.Accept&&this.addressService.deleteAddress(o).pipe((0,a.R)(this.destroy$)).subscribe(()=>this.getData())})}addAddress(){let o=new i.vA;o={...o,width:"100%",maxWidth:"704px",maxHeight:"90vh",panelClass:"dialog__address"},this.dialog.open(c.T,o).afterClosed().pipe((0,a.R)(this.destroy$)).subscribe(m=>{m!==C.u.Close&&this.getData()})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(A.h),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(S.D),e.Y36(i.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-address"]],features:[e._Bn([A.h]),e.qOj],decls:9,vars:4,consts:[[1,"address","wrap"],[1,"top"],[1,"top__search"],[3,"placeholder","searchEvent"],[1,"top__button"],[3,"buttonConfig","clickEvent"],[4,"ngIf","ngIfElse"],["loading",""],["noResults",""],[1,"table-wrap"],["mat-table","","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","main"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","pageIndex","page",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"wrapper__information"],[1,"title"],[1,"content"],["mat-header-cell",""],[1,"wrapper__actions"],[1,"btn","circle","circle-blue",3,"click"],["src","./assets/images/icons/edit.svg","alt","Edit"],[1,"btn","circle","circle-red",3,"click"],["src","./assets/images/icons/trash-red.svg","alt","Delete"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions","pageIndex","page"],[3,"isSearch","noResultsText"]],template:function(o,g){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search",3),e.NdJ("searchEvent",function(f){return g.searchByText(f)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-button",5),e.NdJ("clickEvent",function(){return g.addAddress()}),e.qZA()()(),e.YNc(6,Q,4,2,"ng-container",6),e.YNc(7,j,1,0,"ng-template",null,7,e.W1O),e.qZA()),2&o){const m=e.MAs(8);e.xp6(3),e.Q6J("placeholder","Type address here..."),e.xp6(2),e.Q6J("buttonConfig",g.addAddressButtonConfig),e.xp6(1),e.Q6J("ngIf",g.isDataLoaded)("ngIfElse",m)}},dependencies:[t.O5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,E.YE,E.nU,M.NW,D.r,R.S,y.g,P.R,I.r],styles:["[_ngcontent-%COMP%]:root{--header-height: 180px}.wrap[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;column-gap:20px;padding-bottom:24px}.wrap[_ngcontent-%COMP%]   .top__search[_ngcontent-%COMP%]{flex:1}.wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{height:44px;width:95%;margin-bottom:-1px;border-color:transparent;color:#5a5c81;background:transparent;transition:.3s ease-in}.wrap[_ngcontent-%COMP%]   .input.disabled[_ngcontent-%COMP%]{pointer-events:none}.wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus{border-bottom:1px solid #c5c5c5}.wrap[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#5a5c81}","[_ngcontent-%COMP%]:root{--header-height: 180px}.table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:72px}.table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{cursor:default;background-color:#fff}.table[_ngcontent-%COMP%]   .wrapper__information[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table[_ngcontent-%COMP%]   .wrapper__information[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:4px;font-size:16px;line-height:18px;font-weight:500;color:#020203}.table[_ngcontent-%COMP%]   .wrapper__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;column-gap:8px;padding-right:8px}"]}),s})(),pathMatch:"full"}];let z=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.Bz.forChild(F),d.Bz]}),s})();var H=n(4859),G=n(4466);let X=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[t.ez,z,H.ot,i.Is,_.p0,E.JX,M.TU,G.m]}),s})()},5216:(x,u,n)=>{n.d(u,{S:()=>d});var t=n(1571);let d=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-no-results"]],inputs:{isSearch:"isSearch",noResultsText:"noResultsText"},decls:4,vars:2,consts:[[1,"no-results"],["alt","No results",1,"no-results__img",3,"src"],[1,"no-results__text"]],template:function(i,c){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2),t._uU(3),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("src","./assets/images/icons/"+(c.isSearch?"search.svg":"no-files.svg"),t.LSH),t.xp6(2),t.hij(" ",c.isSearch?"Sorry, we couldn't find anything according to your request":c.noResultsText," "))},styles:["[_ngcontent-%COMP%]:root{--header-height: 180px}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:44vh}.no-results__text[_ngcontent-%COMP%]{margin-top:16px;color:#5a5c81;font-weight:500;font-size:16px}.no-results[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:175px}"]}),p})()},9727:(x,u,n)=>{n.d(u,{g:()=>O});var t=n(1571),d=n(7579),p=n(8372),h=n(1884),i=n(2722),c=n(2893),r=n(5453),a=n(6895),C=n(4006);function A(v,e){if(1&v){const S=t.EpF();t.TgZ(0,"img",4),t.NdJ("click",function(){t.CHM(S);const E=t.oxw();return t.KtG(E.clear())}),t.qZA()}}let O=(()=>{class v{constructor(S,_){this.activatedRoute=S,this.destroy$=_,this.placeholder="Search",this.searchEvent=new t.vpe,this.searchTextSubject$=new d.x,this.searchText=""}ngOnInit(){this.searchText=this.activatedRoute.snapshot.queryParams?.search,this.searchTextSubject$.pipe((0,p.b)(500),(0,h.x)(),(0,i.R)(this.destroy$)).subscribe(S=>this.searchEvent.emit(S))}search(){this.searchTextSubject$.next(this.searchText.trimStart())}clear(){this.searchText="",this.search()}}return v.\u0275fac=function(S){return new(S||v)(t.Y36(r.gz),t.Y36(c.h))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{searchEvent:"searchEvent"},features:[t._Bn([c.h])],decls:4,vars:3,consts:[[1,"search"],["src","./assets/images/icons/search-black.svg","alt","Search",1,"search__icon"],["type","text",1,"search__input",3,"placeholder","ngModel","ngModelChange","input","keydown.esc"],["class","search__clear","src","./assets/images/icons/close.svg","alt","Clear",3,"click",4,"ngIf"],["src","./assets/images/icons/close.svg","alt","Clear",1,"search__clear",3,"click"]],template:function(S,_){1&S&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(M){return _.searchText=M})("input",function(){return _.search()})("keydown.esc",function(){return _.clear()}),t.qZA(),t.YNc(3,A,1,0,"img",3),t.qZA()),2&S&&(t.xp6(2),t.Q6J("placeholder",_.placeholder)("ngModel",_.searchText),t.xp6(1),t.Q6J("ngIf",_.searchText))},dependencies:[a.O5,C.Fj,C.JJ,C.On],styles:["[_ngcontent-%COMP%]:root{--header-height: 180px}.search[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-right:40px}.search__input[_ngcontent-%COMP%]{width:100%;height:44px;padding:12px 40px 12px 44px;border-radius:6px;border:1px solid #E3E8EF;transition:.3s ease-out}.search__input[_ngcontent-%COMP%]:focus{border-color:#1b459b;background-color:#eef6ff}.search__icon[_ngcontent-%COMP%], .search__clear[_ngcontent-%COMP%]{position:absolute}.search__icon[_ngcontent-%COMP%]{left:16px}.search__clear[_ngcontent-%COMP%]{width:12px;right:16px;cursor:pointer}"]}),v})()},3811:(x,u,n)=>{n.d(u,{Q:()=>d});var t=n(5817);function d(p=""){return p.split(/[\s_-]+/).map(h=>(0,t.f)(h)).join(" ")}},4732:(x,u,n)=>{n.d(u,{c:()=>d});var t=n(3811);function d(p){return Object.values(p).map(h=>(0,t.Q)(h))}},9777:(x,u,n)=>{n.d(u,{d:()=>d});var t=n(5212);const d=(p,h)=>{const{errors:i}=h.error;for(const c in i)if(c in i){const r=p.get((0,t.fZ)(c));r&&(r.setErrors({errorText:i[c]}),r.markAsTouched())}}}}]);