<div class="wrapper">
  <div class="body" [class.block-disabled]="!isPayLoaded || !isCartLoaded">
    <div class="content">
      <h3 class="title">Final Review</h3>
      <div class="description">
        <div class="text">
          <img
            class="icon"
            src="./assets/images/icons/warning.svg"
            alt="warning" />
          <strong
            >IMPORTANT: By sending your order into production, you are
            confirming that all proofs have been reviewed and approved.</strong
          >
        </div>
        <div class="text">
          No further changes or cancellations can be made after this point. Your
          artwork will be prepressed and sent to print exactly as your final
          proof.
        </div>
        <div class="text">
          Please carefully review your artwork, sizes, quantities, delivery
          address, and all other job details before proceeding. If anything is
          incorrect or you're unsure, do not continue.
        </div>
      </div>

      <div class="main">
        <div class="checkbox-wrap">
          <div class="checkbox checkbox-1">
            <app-field
              [label]="
                'I confirm all proofs are approved and understand the order canâ€™t be changed once in production.'
              "
              [type]="FIELD_TYPES.Checkbox"
              (inputEvent)="isChecked1 = !isChecked1"></app-field>
          </div>
          <div class="checkbox checkbox-2">
            <app-field
              [label]="
                'I agree to the <a href=\'/terms\' target=\'_blank\' rel=\'noopener noreferrer\'>Terms and Conditions</a>'
              "
              [type]="FIELD_TYPES.Checkbox"
              (inputEvent)="isChecked2 = !isChecked2"></app-field>
          </div>
        </div>

        <div
          class="cart-block"
          [ngClass]="{
            error: generalError,
            hide: data.isUseCredit || !isCartLoaded
          }">
          <div class="cart-block__title">Payment Information</div>

          <div class="form">
            <div id="payment-form">
              <div id="eway-secure-panel"></div>
            </div>

            <div class="form-errors">
              <div class="error-field name" [class.error]="fieldsError.name">
                <div class="error-field__input"></div>
                <div class="error-field__text">
                  {{ fieldsError.name }}
                </div>
              </div>
              <div
                class="error-field number"
                [class.error]="fieldsError.number">
                <div class="error-field__input">
                  <div class="cards">
                    <div class="card">
                      <img
                        src="assets/images/icons/cards/visa.svg"
                        alt="Visa"
                        class="icon"
                        id="visa" />
                    </div>
                    <div class="card">
                      <img
                        src="assets/images/icons/cards/mastercard.svg"
                        alt="Mastercard"
                        class="icon"
                        id="mastercard" />
                    </div>
                    <div class="card">
                      <img
                        src="assets/images/icons/cards/amex.svg"
                        alt="Amex"
                        class="icon"
                        id="amex" />
                    </div>
                  </div>
                </div>
                <div class="error-field__text">
                  {{ fieldsError.number }}
                </div>
              </div>
              <div
                class="error-field expiry"
                [class.error]="fieldsError.expiry">
                <div class="error-field__input"></div>
                <div class="error-field__text">
                  {{ fieldsError.expiry }}
                </div>
              </div>
              <div class="error-field cvn" [class.error]="fieldsError.cvn">
                <div class="error-field__input"></div>
                <div class="error-field__text">
                  {{ fieldsError.cvn }}
                </div>
              </div>
            </div>
          </div>

          <div class="general-error" *ngIf="generalError">
            {{ generalError }}
          </div>
        </div>
      </div>
    </div>

    <div class="actions">
      <div class="btn">
        <app-button
          [buttonConfig]="declineButtonConfig"
          (clickEvent)="onDecline()"></app-button>
      </div>

      <div class="btn">
        <app-button
          [buttonConfig]="acceptButtonConfig"
          (clickEvent)="createOrder()"></app-button>
      </div>
    </div>

    <div class="loader" *ngIf="!isPayLoaded || !isCartLoaded">
      <app-loader></app-loader>
    </div>
  </div>

  <img
    class="close"
    (click)="onDecline()"
    src="./assets/images/icons/close.svg"
    alt="close" />
</div>
